name: 'Close Stale Issues and PRs'

on:
  schedule:
    - cron: '0 0 * * *' # Runs daily at midnight
  workflow_dispatch:

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v10
        with:
          # Stale issues
          days-before-issue-stale: 30
          days-before-issue-close: 7
          stale-issue-label: 'stale'
          stale-issue-message: |
            üëã –≠—Ç–æ—Ç issue –±—ã–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π.
            –û–Ω –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç —á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π, –µ—Å–ª–∏ –Ω–µ –±—É–¥–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
            
            ---
            
            üëã This issue has been automatically marked as stale due to inactivity for 30 days.
            It will be closed in 7 days if there is no additional activity.
          close-issue-message: |
            üîí –≠—Ç–æ—Ç issue –±—ã–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã—Ç –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
            –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤—Å—ë –µ—â—ë –∞–∫—Ç—É–∞–ª—å–Ω–∞, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π issue.
            
            ---
            
            üîí This issue has been automatically closed due to inactivity.
            If the issue is still relevant, please create a new issue.
          
          # Stale PRs
          days-before-pr-stale: 14
          days-before-pr-close: 7
          stale-pr-label: 'stale'
          stale-pr-message: |
            üëã –≠—Ç–æ—Ç PR –±—ã–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π.
            –û–Ω –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç —á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π, –µ—Å–ª–∏ –Ω–µ –±—É–¥–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
            
            ---
            
            üëã This PR has been automatically marked as stale due to inactivity for 14 days.
            It will be closed in 7 days if there is no additional activity.
          close-pr-message: |
            üîí –≠—Ç–æ—Ç PR –±—ã–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã—Ç –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
            –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π PR, –µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—ë –µ—â—ë –∞–∫—Ç—É–∞–ª—å–Ω—ã.
            
            ---
            
            üîí This PR has been automatically closed due to inactivity.
            Please create a new PR if the changes are still relevant.
          
          # Exemptions
          exempt-issue-labels: 'pinned,security,priority: high'
          exempt-pr-labels: 'pinned,security,work in progress'
          exempt-all-milestones: true
